<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>JDemetra+ online documentation - Seasonal Adjustment</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./A-sa-hf.html" rel="next">
<link href="./G-what-is-jd.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Seasonal Adjustment</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">JDemetra+ online documentation</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./G-what-is-jd.html" class="sidebar-item-text sidebar-link">JDemetra+</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-sa.html" class="sidebar-item-text sidebar-link active">Seasonal Adjustment</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-sa-hf.html" class="sidebar-item-text sidebar-link">Seasonal adjustment of high frequency data</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-outlier-detection.html" class="sidebar-item-text sidebar-link">Outlier detection</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-calendar-and-input.html" class="sidebar-item-text sidebar-link">Calendar and user-defined corrections</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-benchmarking.html" class="sidebar-item-text sidebar-link">Algorithms for benchmarking and temporal disagreggation</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-trend-cycle-estimation.html" class="sidebar-item-text sidebar-link">Trend-cycle estimation</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-nowcasting.html" class="sidebar-item-text sidebar-link">Nowcasting</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./T-graphical-user-interface.html" class="sidebar-item-text sidebar-link">Graphical User Interface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./T-r-packages.html" class="sidebar-item-text sidebar-link">R packages</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./T-plug-ins.html" class="sidebar-item-text sidebar-link">Plug-ins for JDemetra+</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./T-production.html" class="sidebar-item-text sidebar-link">Production issues and cruncher</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./T-tool-selection.html" class="sidebar-item-text sidebar-link">Tool selection issues and heuristics</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-spectral-analysis.html" class="sidebar-item-text sidebar-link">Spectral Analysis Principles and Tools</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-reg-arima-modelling.html" class="sidebar-item-text sidebar-link">Reg-Arima models</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-X11-decomposition.html" class="sidebar-item-text sidebar-link">X-11 decomposition</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-STL-decomposition.html" class="sidebar-item-text sidebar-link">STL: Local regression decomposition</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-SEATS-decomposition.html" class="sidebar-item-text sidebar-link">SEATS decomposition</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-Trend-Estimation-Local-Polynomials.html" class="sidebar-item-text sidebar-link">Local Polynomials Methods for Trend Estimation</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-tests.html" class="sidebar-item-text sidebar-link">Tests</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-state-space-framework.html" class="sidebar-item-text sidebar-link">State space modelling</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-Temp-Disagg-Bench.html" class="sidebar-item-text sidebar-link">Methods for Temporal disaggregation and benchmarking</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#motivation" id="toc-motivation" class="nav-link active" data-scroll-target="#motivation">Motivation</a></li>
  <li><a href="#data-frequencies" id="toc-data-frequencies" class="nav-link" data-scroll-target="#data-frequencies">Data frequencies</a></li>
  <li><a href="#unobserved-components-uc" id="toc-unobserved-components-uc" class="nav-link" data-scroll-target="#unobserved-components-uc">Unobserved Components (UC)</a></li>
  <li><a href="#detecting-seasonal-patterns" id="toc-detecting-seasonal-patterns" class="nav-link" data-scroll-target="#detecting-seasonal-patterns">Detecting seasonal patterns</a></li>
  <li><a href="#pre-treatment" id="toc-pre-treatment" class="nav-link" data-scroll-target="#pre-treatment">Pre-treatment</a>
  <ul class="collapse">
  <li><a href="#calendar-correction" id="toc-calendar-correction" class="nav-link" data-scroll-target="#calendar-correction">Calendar correction</a></li>
  <li><a href="#outliers" id="toc-outliers" class="nav-link" data-scroll-target="#outliers">Outliers</a></li>
  <li><a href="#reg-arima-model" id="toc-reg-arima-model" class="nav-link" data-scroll-target="#reg-arima-model">Reg-Arima Model</a></li>
  <li><a href="#model-evaluation" id="toc-model-evaluation" class="nav-link" data-scroll-target="#model-evaluation">Model evaluation</a></li>
  </ul></li>
  <li><a href="#x-11-decompostion" id="toc-x-11-decompostion" class="nav-link" data-scroll-target="#x-11-decompostion">X-11 Decompostion</a>
  <ul class="collapse">
  <li><a href="#quick-launch-with-default-specifications" id="toc-quick-launch-with-default-specifications" class="nav-link" data-scroll-target="#quick-launch-with-default-specifications">Quick launch with default specifications</a></li>
  <li><a href="#output-1-series" id="toc-output-1-series" class="nav-link" data-scroll-target="#output-1-series">Output 1: series</a></li>
  <li><a href="#output-2-final-parameters" id="toc-output-2-final-parameters" class="nav-link" data-scroll-target="#output-2-final-parameters">Output 2: final parameters</a></li>
  <li><a href="#output-3-diagnostics" id="toc-output-3-diagnostics" class="nav-link" data-scroll-target="#output-3-diagnostics">Output 3: diagnostics</a></li>
  <li><a href="#specifications-parameters" id="toc-specifications-parameters" class="nav-link" data-scroll-target="#specifications-parameters">Specifications / parameters</a></li>
  </ul></li>
  <li><a href="#stl" id="toc-stl" class="nav-link" data-scroll-target="#stl">STL</a></li>
  <li><a href="#seats" id="toc-seats" class="nav-link" data-scroll-target="#seats">SEATS</a></li>
  <li><a href="#ssf" id="toc-ssf" class="nav-link" data-scroll-target="#ssf">SSF</a></li>
  <li><a href="#quality-assessment" id="toc-quality-assessment" class="nav-link" data-scroll-target="#quality-assessment">Quality assessment</a>
  <ul class="collapse">
  <li><a href="#residual-seasonality" id="toc-residual-seasonality" class="nav-link" data-scroll-target="#residual-seasonality">Residual seasonality</a></li>
  <li><a href="#residual-calendar-effects" id="toc-residual-calendar-effects" class="nav-link" data-scroll-target="#residual-calendar-effects">Residual calendar effects</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Seasonal Adjustment</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<p>The primary aim of the seasonal adjustment process is to remove seasonal fluctuations from the time series.</p>
<p>[insert def SA from b_ov]</p>
</section>
<section id="data-frequencies" class="level2">
<h2 class="anchored" data-anchor-id="data-frequencies">Data frequencies</h2>
<p>The seasonal adjustment methods available in JDemetra+ aim to decompose a time series into components and remove seasonal fluctuations from the observed time series. The X-11 method considers monthly and quarterly series while SEATS is able to decompose series with 2, 3, 4, 6 and 12 observations per year.</p>
</section>
<section id="unobserved-components-uc" class="level2">
<h2 class="anchored" data-anchor-id="unobserved-components-uc">Unobserved Components (UC)</h2>
<p>The main components, each representing the impact of certain types of phenomena on the time series (<span class="math inline">\(X_{t}\)</span>), are:</p>
<ul>
<li><p>The trend (<span class="math inline">\(T_{t}\)</span>) that captures long-term and medium-term behaviour;</p></li>
<li><p>The seasonal component (<span class="math inline">\(S_{t}\)</span>) representing intra-year fluctuations, monthly or quarterly, that are repeated more or less regularly year after year;</p></li>
<li><p>The irregular component (<span class="math inline">\(I_{t}\)</span>) combining all the other more or less erratic fluctuations not covered by the previous components.</p></li>
</ul>
<p>In general, the trend consists of 2 sub-components:</p>
<ul>
<li><p>The long-term evolution of the series;</p></li>
<li><p>The cycle, that represents the smooth, almost periodic movement around the long-term evolution of the series. It reveals a succession of phases of growth and recession.</p></li>
</ul>
<p>To achieve this goal, seasonal adjustment methods decompose the original time series into components that capture specific movements. These components are: trend-cycle, seasonality and irregularity. The trend-cycle component includes long-term and medium-term movements in the data. For seasonal adjustment purposes there is no need to divide this component into two parts. JDemetra+ refers to the trend-cycle as trend and consequently this convention is used here. For seasonal adjustment purposes both TRAMO-SEATS and X-13ARIMA-SEATS do not separate the long-term trend from the cycle as these two components are usually too short to perform their reliable estimation. Consequently, hereafter TRAMO-SEATS and X-13ARIMA-SEATS estimate the trend component. However, the original TRAMO-SEATS may separate the long-term trend from the cycle through the Hodrick-Precsott filter using the output of the standard decomposition. It should be remembered that JDemetra+ refers to the trend-cycle as trend (<span class="math inline">\(T_{t}\)</span>), and consequently this convention is used in this document.</p>
<p>TRAMO-SEATS considers two decomposition models:</p>
<ul>
<li><p>The additive model: <span class="math inline">\(X_{t} = T_{t} + S_{t} + I_{t}\)</span>;</p></li>
<li><p>The log additive model: <span class="math inline">\(log(X_{t}) = log(T_{t}) + log(S_{t}) + log(I_{t})\)</span>.</p></li>
</ul>
<p>Apart from these two decomposition types X-13ARIMA-SEATS allows the user to apply also the multiplicative model: <span class="math inline">\(X_{t} = T_{t} \times S_{t} \times I_{t}\)</span>.</p>
<p>A time series <span class="math inline">\(x_{t}\)</span>, which is a subject to a decomposition, is assumed to be a realisation of a discrete-time stochastic, covariance-stationary linear process, which is a collection of random variables <span class="math inline">\(x_{t}\)</span>, where <span class="math inline">\(t\)</span> denotes time. It can be shown that any stochastic, covariance-stationary process can be presented in the form:</p>
<p><span class="math inline">\(x_{t} = \mu_{t} + {\widetilde{x}}_{t}\)</span>, <span class="math display">\[1\]</span></p>
<p>where <span class="math inline">\(\mu_{t}\)</span> is a linearly deterministic component and <span class="math inline">\({\widetilde{x}}_{t}\)</span> is a linearly interderministic component, such as:</p>
<p><span class="math display">\[{\widetilde{x}}_{t} = {\sum_{j = 0}^{\infty}\psi_{j}a}_{t - j}
  \]</span>, <span class="math display">\[2\]</span></p>
<p>where <span class="math inline">\(\sum_{j = 0}^{\infty}\psi_{i}^{2} &lt; \infty\)</span> (coefficients <span class="math inline">\(\psi_{j}\)</span> are absolutely summable), <span class="math inline">\(\psi_{0} = 1\)</span> and <span class="math inline">\(a_{t}\)</span> is the white noise error with zero mean and constant variance <span class="math inline">\(V_{a}\)</span>. The error term <span class="math inline">\(a_{t}\)</span> represents the one-period ahead forecast error of <span class="math inline">\(x_{t}\)</span>, that is:</p>
<p><span class="math display">\[
  a_{t} = {\widetilde{x}}_{t} - {\widehat{x}}_{t|t - 1}
  \]</span>, <span class="math display">\[3\]</span></p>
<p>where <span class="math display">\[{\widehat{x}}_{t|t - 1}\]</span> is the forecast of <span class="math display">\[{\widetilde{x}}_{t}\]</span> made at period <span class="math inline">\(t - 1\)</span>. As <span class="math inline">\(a_{t}\)</span> represents what is new in <span class="math display">\[{\widetilde{x}}_{t}\]</span> in point <span class="math inline">\(t\)</span>, i.e., not contained in the past values of <span class="math display">\[{\widetilde{x}}_{t}\]</span>, it is also called innovation of the process. From <span class="math display">\[3\]</span> <span class="math display">\[{\widetilde{x}}_{t}\]</span> can be viewed as a linear filter applied to the innovations.</p>
<p>The equation 7.1 is called a Wold representation. It presents a process as a sum of linearly deterministic component <span class="math inline">\(\mu_{t}\)</span> and linearly interderministic component <span class="math inline">\(\sum_{j = 0}^{\infty}\psi_{j}a_{t - j}\)</span>, the first one is perfectly predictable once the history of the process <span class="math inline">\(x_{t - 1}\)</span> is known and the second one is impossible to predict perfectly. This explains why the stochastic process cannot be perfectly predicted.</p>
<p>Under suitable conditions <span class="math display">\[{\widetilde{x}}_{t}\]</span> can be presented as a weighted sum of its past values and <span class="math inline">\(a_{t}\)</span>, i.e.:</p>
<p><span class="math display">\[
  { {\widetilde{x}}_{t} = \sum_{j = 0}^{\infty}\pi_{j}{\widetilde{x}}_{t - j} + a}_{t}
  \]</span>, <span class="math display">\[4\]</span></p>
<p>In general, for the observed time series, the assumptions concerning the nature of the process <span class="math display">\[1\]</span> do not hold for various reasons. Firstly, most observed time series display a mean that cannot be assumed to be constant due to the presence of a trend and the seasonal movements. Secondly, the variance of the time series may vary in time. Finally, the observed time series usually contain outliers, calendar effects and regression effects, which are treated as deterministic. Therefore, in practice a prior transformation and an adjustment need to be applied to the time series. The constant variance is usually achieved through taking a logarithmic transformation and the correction for the deterministic effects, while stationarity of the mean is achieved by applying regular and seasonal differencing. These processes, jointly referred to as preadjustment or linearization, can be performed with the TRAMO or RegARIMA models. Besides the linearisation, forecasts and backcasts of stochastic time series are estimated with the ARIMA model, allowing for later application of linear filters at both ends of time series. The estimation performed with these models delivers the stochastic part of the time series, called the linearised series, which is assumed to be an output of a linear stochastic process.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> The deterministic effects are removed from the time series and used to form the final components.</p>
<p>In the next step the linearised series is decomposed into its components. There is a fundamental difference in how this process is performed in TRAMO-SEATS and X-13ARIMA-SEATS. In TRAMO-SEATS the decomposition is performed by the SEATS procedure, which follows a so called ARIMA model based approach. In principle, it aims to derive the components with statistical models. More information is given in the <a href="../theory/SA_SEATS.html">SEATS</a> section. X-13ARIMA-SEATS offers two algorithms for decomposition: SEATS and X-11. The X-11 algorithm, which is described in the <a href="../theory/SA_X11.html">X-11 section</a> section, decomposes a series by means of linear filters. Finally, in both methods the final components are derived by the assignment of the deterministic effects to the stochastic components. Consequently, the role of the ARIMA models is different in each method. TRAMO-SEATS applies the ARIMA models both in the preadjustment step and in the decomposition procedure. On the contrary, when the X-11 algorithm is used for decomposition, X-13ARIMA-SEATS uses the ARIMA model only in the preadjustment step. In summary, the decomposition procedure that results in an estimation of the seasonal component requires prior identification of the deterministic effects and their removal from the time series. This is achieved through the linearisation process performed by the TRAMO and the RegARIMA models, shortly discussed in the <a href="../theory/SA_lin.html">Linearisation with the TRAMO and RegARIMA models</a> section.The linearised series is then decomposed into the stochastic components with <a href="../theory/SA_SEATS.html">SEATS</a> or <a href="../theory/SA_X11.html">X-11</a> algorithms.</p>
<p>X-13</p>
<p>X-13ARIMA is a seasonal adjustment program developed and supported by the U.S. Census Bureau. It is based on the U.S. Census Bureau’s earlier X-11 program, the X-11-ARIMA program developed at Statistics Canada, the X-12-ARIMA program developed by the U.S. Census Bureau.</p>
</section>
<section id="detecting-seasonal-patterns" class="level2">
<h2 class="anchored" data-anchor-id="detecting-seasonal-patterns">Detecting seasonal patterns</h2>
</section>
<section id="pre-treatment" class="level2">
<h2 class="anchored" data-anchor-id="pre-treatment">Pre-treatment</h2>
<section id="calendar-correction" class="level3">
<h3 class="anchored" data-anchor-id="calendar-correction">Calendar correction</h3>
<p>details of regressor building in calendar chapter</p>
<section id="rationale" class="level4">
<h4 class="anchored" data-anchor-id="rationale">rationale</h4>
</section>
<section id="method" class="level4">
<h4 class="anchored" data-anchor-id="method">method</h4>
</section>
<section id="tools" class="level4">
<h4 class="anchored" data-anchor-id="tools">tools</h4>
</section>
</section>
<section id="outliers" class="level3">
<h3 class="anchored" data-anchor-id="outliers">Outliers</h3>
<section id="rationale-1" class="level4">
<h4 class="anchored" data-anchor-id="rationale-1">rationale</h4>
</section>
<section id="method-1" class="level4">
<h4 class="anchored" data-anchor-id="method-1">method</h4>
</section>
<section id="tools-1" class="level4">
<h4 class="anchored" data-anchor-id="tools-1">tools</h4>
</section>
</section>
<section id="reg-arima-model" class="level3">
<h3 class="anchored" data-anchor-id="reg-arima-model">Reg-Arima Model</h3>
<p>Tramo and Reg-Arima are very similar…details in M chapter</p>
</section>
<section id="model-evaluation" class="level3">
<h3 class="anchored" data-anchor-id="model-evaluation">Model evaluation</h3>
<p>goodness-of-fit</p>
</section>
</section>
<section id="x-11-decompostion" class="level2">
<h2 class="anchored" data-anchor-id="x-11-decompostion">X-11 Decompostion</h2>
<p>this part should allow to use x-11 via RJDemetra as well as via GUI</p>
<section id="quick-launch-with-default-specifications" class="level3">
<h3 class="anchored" data-anchor-id="quick-launch-with-default-specifications">Quick launch with default specifications</h3>
</section>
<section id="output-1-series" class="level3">
<h3 class="anchored" data-anchor-id="output-1-series">Output 1: series</h3>
<p>X-11 gives access to a great part of it’s intermediate computations</p>
<p>Here we focus on the final components (Table D)</p>
<p>List of series (edit : table with name and meaning)</p>
<p>Retrieve in GUI</p>
<p>Retrieve in R</p>
</section>
<section id="output-2-final-parameters" class="level3">
<h3 class="anchored" data-anchor-id="output-2-final-parameters">Output 2: final parameters</h3>
<p>Relevant if parameters not set manually</p>
<p>List Final trend filter final seasonal filer</p>
<p>Retrieve via GUI image</p>
<p>Retrieve in R</p>
</section>
<section id="output-3-diagnostics" class="level3">
<h3 class="anchored" data-anchor-id="output-3-diagnostics">Output 3: diagnostics</h3>
<p>X11 produces the following type diagnostics or quality measures Table with link to detail</p>
</section>
<section id="specifications-parameters" class="level3">
<h3 class="anchored" data-anchor-id="specifications-parameters">Specifications / parameters</h3>
<section id="list" class="level4">
<h4 class="anchored" data-anchor-id="list">List</h4>
<section id="general-settings" class="level5">
<h5 class="anchored" data-anchor-id="general-settings">General settings</h5>
<ul>
<li><strong>Mode</strong>
<ul>
<li>check if this option still works, if so add and edit instructions from old page)</li>
<li>if not but button present : explain that the mode is determined in pre-adjustment (function)</li>
</ul></li>
<li><strong>Seasonal component</strong>
<ul>
<li>check if still relevant, idem as above</li>
<li>in v.2.3 if not ticked, S estimated but options on seasonal filter not available</li>
</ul></li>
<li><strong>Forecasts horizon</strong></li>
</ul>
<p>Length of the forecasts generated by the RegARIMA model - in months (positive values) - years (negative values) - if set to is set to 0, the X-11 procedure does not use any model-based forecasts but the original X-11 type forecasts for one year. - default value: -1, thus one year from the Arima model</p>
<ul>
<li><strong>Backcasts horizon</strong></li>
</ul>
<p>Length of the backcasts generated by the RegARIMA model - in months (positive values) - years (negative values) - default value: 0</p>
</section>
<section id="irregular-correction" class="level5">
<h5 class="anchored" data-anchor-id="irregular-correction">Irregular correction</h5>
<ul>
<li><p><strong>LSigma</strong></p>
<ul>
<li>sets lower sigma (standard deviation) limit used to down-weight the extreme irregular values in the internal seasonal adjustment iterations, learn more here (LINK to M_ chapter)</li>
<li>values in <span class="math inline">\([0,Usigma]\)</span></li>
<li>default value is 1.5</li>
</ul></li>
<li><p><strong>USigma</strong></p>
<ul>
<li>sets upper sigma (standard deviation)</li>
<li>values in <span class="math inline">\([Lsigma,+\infty]\)</span></li>
<li>default value is 2.5</li>
</ul></li>
<li><p><strong>Calendarsigma</strong></p>
<ul>
<li>allows to set different <strong>LSigma</strong> and <strong>USigma</strong> for each period</li>
<li>values
<ul>
<li>None (default)</li>
<li>All: standard errors used for the extreme values detection and adjustment computed separately for each calendar month/quarter</li>
<li>Signif: groups determined by cochran test (check)</li>
<li>Sigmavec: set two customized groups of periods</li>
</ul></li>
</ul></li>
<li><p><strong>Excludeforecasts</strong></p>
<ul>
<li>ticked : forecasts and backcasts from the RegARIMA model not used in Irregular Correction</li>
<li>unticked (default): forecasts and backcasts used</li>
</ul></li>
</ul>
</section>
<section id="seasonality-extraction-filters" class="level5">
<h5 class="anchored" data-anchor-id="seasonality-extraction-filters">Seasonality extraction filters</h5>
<ul>
<li><strong>Seasonal filter</strong> choice</li>
</ul>
<p>Specifies which be used to estimate the seasonal factors for the entire series (link to relevant part in M chapter)</p>
<ul>
<li><p><em>S</em>3 × 1 – <span class="math inline">3 × 1</span> moving average.</p></li>
<li><p><em>S</em>3 × 3 – <span class="math inline">3 × 3</span> moving average.</p></li>
<li><p><em>S</em>3 × 5 – <span class="math inline">3 × 5</span> moving average.</p></li>
<li><p><em>S</em>3 × 9 – <span class="math inline">3 × 9&nbsp;</span>moving average.</p></li>
<li><p><em>S</em>3 × 15 – <span class="math inline">3 × 15</span> moving average.</p></li>
<li><p><em>Stable</em> – a single seasonal factor for each calendar period is generated by calculating a simple average over all values for each period (taken after detrending and outlier correction).</p></li>
<li><p><em>X11Default</em> – <span class="math inline">3 × 3</span> moving average is used to calculate the initial seasonal factors and a <span class="math inline">3 × 5</span> moving average to calculate the final seasonal factors.</p></li>
<li><p><em>Msr</em> – automatic choice of a seasonal filter. The seasonal filters can be selected for the entire series, or for a particular month or quarter.</p></li>
<li><p>default value: <em>Msr</em></p></li>
</ul>
<p>Check: will user choice be applied to all steps or only to final phase D step</p>
<ul>
<li><strong>Details on seasonal filters</strong></li>
</ul>
<p>Sets different seasonal filters by period in order to account for seasonal heteroskedasticity (link to M chapter)</p>
<ul>
<li>default value: empty</li>
</ul>
</section>
<section id="trend-estimation-filters" class="level5">
<h5 class="anchored" data-anchor-id="trend-estimation-filters">Trend estimation filters</h5>
<ul>
<li><p><strong>Automatic Henderson filter</strong> our user-defined</p>
<ul>
<li>default: length 13</li>
<li>unticked: user defined length choice</li>
</ul></li>
<li><p><strong>Henderson filter</strong> length choice</p>
<ul>
<li>values: odd number in <span class="math inline">\([3,101]\)</span></li>
<li>default value: 13</li>
</ul></li>
</ul>
<p>Check: will user choice be applied to all steps or only to final phase D step</p>
</section>
</section>
<section id="parameter-setting-in-gui" class="level4">
<h4 class="anchored" data-anchor-id="parameter-setting-in-gui">Parameter setting in GUI</h4>
<p>here v2, adjust to v3 asap</p>
</section>
<section id="parameter-setting-in-r-packages" class="level4">
<h4 class="anchored" data-anchor-id="parameter-setting-in-r-packages">Parameter setting in R packages</h4>
<p>extensive help on functions available in package help pages Rcode snippets</p>
<p>In R, to implement any param change, it is required to retrieve current spec, modify it and apply it again (see T R packages chapter for details). (specific link)</p>
<p>here example changing all the settings (just remove irrelevant changes)</p>
<p>Rjdemetra (v2) Edit : here static R code link to a “worked example” wih dynamic code ticked box in GUI corresponds to …? in R</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating a modified specification, customizing all available X11 parameters</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>modified_spec<span class="ot">&lt;-</span> <span class="fu">x13_spec</span>(current_sa_model,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#x11.mode="?",</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#x11.seasonalComp = "?",</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.fcasts =</span> <span class="sc">-</span><span class="dv">2</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.bcasts =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.lsigma =</span> <span class="fl">1.2</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.usigma =</span> <span class="fl">2.8</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.calendarSigma =</span> <span class="cn">NA</span>, <span class="co"># EDIT with example</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">x11.sigmaVector =</span> <span class="cn">NA</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.excludeFcasts =</span> <span class="cn">NA</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filters </span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.trendAuto =</span> <span class="cn">NA</span>, <span class="co"># needed inf value ?</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.trendma =</span> <span class="dv">23</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.seasonalma =</span> <span class="st">"S3X9</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="st">    # details on seasonal filters)</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="st">#New SA estimation : apply modified_spec</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="st">modified_sa_model&lt;-x13(raw_series,modified_spec)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>EDIT : link to package help page v2 +v3</p>
</section>
</section>
</section>
<section id="stl" class="level2">
<h2 class="anchored" data-anchor-id="stl">STL</h2>
</section>
<section id="seats" class="level2">
<h2 class="anchored" data-anchor-id="seats">SEATS</h2>
</section>
<section id="ssf" class="level2">
<h2 class="anchored" data-anchor-id="ssf">SSF</h2>
</section>
<section id="quality-assessment" class="level2">
<h2 class="anchored" data-anchor-id="quality-assessment">Quality assessment</h2>
<section id="residual-seasonality" class="level3">
<h3 class="anchored" data-anchor-id="residual-seasonality">Residual seasonality</h3>
</section>
<section id="residual-calendar-effects" class="level3">
<h3 class="anchored" data-anchor-id="residual-calendar-effects">Residual calendar effects</h3>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>When the series are non-stationary differentiation is performed before the seasonality tests.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./G-what-is-jd.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">JDemetra+</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./A-sa-hf.html" class="pagination-link">
        <span class="nav-page-text">Seasonal adjustment of high frequency data</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>